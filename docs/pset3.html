---

title: Pset3


keywords: fastai
sidebar: home_sidebar

summary: "Multiple Regression"
description: "Multiple Regression"
nb_path: "notebooks/04_pset3.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/04_pset3.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Load Data</p>
<p>Shanghai Car License Plate Auction Price
<a href="https://www.kaggle.com/bogof666/shanghai-car-license-plate-auction-price">https://www.kaggle.com/bogof666/shanghai-car-license-plate-auction-price</a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;../data/midterm/shanghai_license_plate.csv&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>       Date  Total number of license issued  lowest price   avg price  \
0    Jan-02                            1400          13600      14735   
1    Feb-02                            1800          13100      14057   
2    Mar-02                            2000          14300      14662   
3    Apr-02                            2300          16000      16334   
4    May-02                            2350          17800      18357   
..      ...                             ...            ...        ...   
199  Sep-18                           12712          87300      87410   
200  Oct-18                           10728          88000      88070   
201  Nov-18                           11766          87300      87374   
202  Dec-18                           12850          87400      87508   
203  Jan-19                           12832          89500      89565   

     Total number of applicants  
0                          3718  
1                          4590  
2                          5190  
3                          4806  
4                          4665  
..                          ...  
199                      189142  
200                      181861  
201                      177355  
202                      165442  
203                      168614  

[204 rows x 5 columns]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Change the first column into datetime objects</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">date_str</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]):</span>
    <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date_str</span><span class="p">,</span> <span class="s2">&quot;%b-%y&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Squared Total number of license issued&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;Total number of license issued&quot;</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;Squared Total number of applicants&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;Total number of applicants&quot;</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Question-1">Question 1<a class="anchor-link" href="#Question-1"> </a></h1><p>Give a brief background of the problem and how do you EXPECT the independent variables to affect the dependent one.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Shanghai car license plates are probabaly "the world's most expensive pieces of metal". People have to participate in auctions to purchase car license plates. The reason behind the auction is to limit the number of fossil-fueled cars.</p>
<p>In this dataset, data related to auctions between January 2002 and January 2019 are recorded. The shape of the data set is 204 rows and 5 columns. The columns include date, total number of license issued, lowest price, average price, and total number of applicants.</p>
<p>My initial guess is that the total number of license issued and the total number of applicants will affect price. The total number of license issued is similar to the supply of license plates while the total number of applicants is like the demand from people.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Question-2">Question 2<a class="anchor-link" href="#Question-2"> </a></h1><p>Show results of three different models and discuss which one is the best and why.  You are welcome to use statistical tests for issues such as heteroskedasticity, but you do not have to.  However, you should take a look at the residuals.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Model-1">Model 1<a class="anchor-link" href="#Model-1"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s2">&quot;Total number of license issued&quot;</span><span class="p">,</span> <span class="s2">&quot;Total number of applicants&quot;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;avg price&quot;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">model1</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">model1</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>        <td>avg price</td>    <th>  R-squared:         </th> <td>   0.743</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.741</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   290.9</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sun, 04 Apr 2021</td> <th>  Prob (F-statistic):</th> <td>4.58e-60</td>
</tr>
<tr>
  <th>Time:</th>                 <td>11:42:14</td>     <th>  Log-Likelihood:    </th> <td> -2205.9</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   204</td>      <th>  AIC:               </th> <td>   4418.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   201</td>      <th>  BIC:               </th> <td>   4428.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     2</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
                 <td></td>                   <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>const</th>                          <td> 1.851e+04</td> <td> 2899.883</td> <td>    6.383</td> <td> 0.000</td> <td> 1.28e+04</td> <td> 2.42e+04</td>
</tr>
<tr>
  <th>Total number of license issued</th> <td>    3.2679</td> <td>    0.427</td> <td>    7.651</td> <td> 0.000</td> <td>    2.426</td> <td>    4.110</td>
</tr>
<tr>
  <th>Total number of applicants</th>     <td>    0.1632</td> <td>    0.013</td> <td>   12.433</td> <td> 0.000</td> <td>    0.137</td> <td>    0.189</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>10.246</td> <th>  Durbin-Watson:     </th> <td>   0.355</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.006</td> <th>  Jarque-Bera (JB):  </th> <td>  21.116</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.117</td> <th>  Prob(JB):          </th> <td>2.60e-05</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 4.559</td> <th>  Cond. No.          </th> <td>3.70e+05</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 3.7e+05. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Residual Test</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">jarque_bera</span><span class="p">(</span><span class="n">model1</span><span class="o">.</span><span class="n">resid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JB: </span><span class="si">{</span><span class="n">test</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">, p-value: </span><span class="si">{</span><span class="n">test</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>JB: 21.11617148644472, p-value: 2.59825410591219e-05
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Model-2">Model 2<a class="anchor-link" href="#Model-2"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s2">&quot;Total number of license issued&quot;</span><span class="p">,</span> <span class="s2">&quot;Squared Total number of license issued&quot;</span><span class="p">,</span> <span class="s2">&quot;Total number of applicants&quot;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;avg price&quot;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">model2</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">model2</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>        <td>avg price</td>    <th>  R-squared:         </th> <td>   0.773</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.770</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   227.2</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sun, 04 Apr 2021</td> <th>  Prob (F-statistic):</th> <td>3.79e-64</td>
</tr>
<tr>
  <th>Time:</th>                 <td>11:42:14</td>     <th>  Log-Likelihood:    </th> <td> -2193.2</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   204</td>      <th>  AIC:               </th> <td>   4394.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   200</td>      <th>  BIC:               </th> <td>   4408.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     3</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
                     <td></td>                       <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>const</th>                                  <td>-3562.3588</td> <td> 5094.651</td> <td>   -0.699</td> <td> 0.485</td> <td>-1.36e+04</td> <td> 6483.765</td>
</tr>
<tr>
  <th>Total number of license issued</th>         <td>    9.9073</td> <td>    1.355</td> <td>    7.314</td> <td> 0.000</td> <td>    7.236</td> <td>   12.578</td>
</tr>
<tr>
  <th>Squared Total number of license issued</th> <td>   -0.0005</td> <td> 8.89e-05</td> <td>   -5.133</td> <td> 0.000</td> <td>   -0.001</td> <td>   -0.000</td>
</tr>
<tr>
  <th>Total number of applicants</th>             <td>    0.1796</td> <td>    0.013</td> <td>   14.057</td> <td> 0.000</td> <td>    0.154</td> <td>    0.205</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td> 6.797</td> <th>  Durbin-Watson:     </th> <td>   0.264</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.033</td> <th>  Jarque-Bera (JB):  </th> <td>   7.834</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.277</td> <th>  Prob(JB):          </th> <td>  0.0199</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 3.784</td> <th>  Cond. No.          </th> <td>4.91e+08</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 4.91e+08. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Residual Test</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">jarque_bera</span><span class="p">(</span><span class="n">model2</span><span class="o">.</span><span class="n">resid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JB: </span><span class="si">{</span><span class="n">test</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">, p-value: </span><span class="si">{</span><span class="n">test</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>JB: 7.833916858325952, p-value: 0.019901534709141577
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Model-3">Model 3<a class="anchor-link" href="#Model-3"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s2">&quot;Total number of license issued&quot;</span><span class="p">,</span> <span class="s2">&quot;Total number of applicants&quot;</span><span class="p">,</span> <span class="s2">&quot;Squared Total number of applicants&quot;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;avg price&quot;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">model3</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">model3</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>        <td>avg price</td>    <th>  R-squared:         </th> <td>   0.786</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.782</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   244.3</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sun, 04 Apr 2021</td> <th>  Prob (F-statistic):</th> <td>1.32e-66</td>
</tr>
<tr>
  <th>Time:</th>                 <td>11:42:14</td>     <th>  Log-Likelihood:    </th> <td> -2187.4</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   204</td>      <th>  AIC:               </th> <td>   4383.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   200</td>      <th>  BIC:               </th> <td>   4396.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     3</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
                   <td></td>                     <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>const</th>                              <td> 1.557e+04</td> <td> 2697.186</td> <td>    5.772</td> <td> 0.000</td> <td> 1.02e+04</td> <td> 2.09e+04</td>
</tr>
<tr>
  <th>Total number of license issued</th>     <td>    2.9983</td> <td>    0.394</td> <td>    7.618</td> <td> 0.000</td> <td>    2.222</td> <td>    3.774</td>
</tr>
<tr>
  <th>Total number of applicants</th>         <td>    0.4310</td> <td>    0.044</td> <td>    9.742</td> <td> 0.000</td> <td>    0.344</td> <td>    0.518</td>
</tr>
<tr>
  <th>Squared Total number of applicants</th> <td>-1.104e-06</td> <td> 1.76e-07</td> <td>   -6.289</td> <td> 0.000</td> <td>-1.45e-06</td> <td>-7.58e-07</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>18.955</td> <th>  Durbin-Watson:     </th> <td>   0.455</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td> <th>  Jarque-Bera (JB):  </th> <td>  71.836</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-0.033</td> <th>  Prob(JB):          </th> <td>2.52e-16</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 5.906</td> <th>  Cond. No.          </th> <td>8.24e+10</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 8.24e+10. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Residual Test</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">jarque_bera</span><span class="p">(</span><span class="n">model3</span><span class="o">.</span><span class="n">resid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JB: </span><span class="si">{</span><span class="n">test</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">, p-value: </span><span class="si">{</span><span class="n">test</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>JB: 71.83633477922191, p-value: 2.220446049250313e-16
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Model 1 is the best model among these three models. According to the summary printed below the model, the results are statistically significant. Model 1 is the best model since it does not square its varaibles, but it captures the change in the dependent variable. In contrast, model 2 and 3 are fitting polynomials. Therefore, I think model 1 fits well without increasing complexity.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Question-3">Question 3<a class="anchor-link" href="#Question-3"> </a></h1><p>Which variables are statistically significant and are the signs as you expected?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Both total number of applicants and total number of license plates issued are statistically significant. However, the sign for the total number of license plates issued does not match with my expectation. From the results, there is a positive relation between them. This is potentally caused by the a faster increase of the demand than the increase of the supply.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Question-4">Question 4<a class="anchor-link" href="#Question-4"> </a></h1><p>What problems do you think might be present in the model and why (very speculative at this point)?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>One major problem is that the total number of licence plates issued is tightly related to government regulations. The policies are made to control the demand in the market, so it does not fulfill the actual demand of consumers. I think this would lead to problems in creating a good model because a sudden increase or decrease caused by regulations can hardly be captured by the model.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Question-5">Question 5<a class="anchor-link" href="#Question-5"> </a></h1><p>What could be some additional variables that should be included that you could not find?  If it is not obvious, how would you measure them if at all?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I would include the population of people who need to drive to go to work, but this data is not available to us. This additional variable can potentially be a better measure of demand than the total number of applicants. People might give up their chances to apply for a license plate for various reason, but the demand for license plates is still high. Therefore, the new variable can better show this effect.</p>
<p>Furthermore, it would be interesting to add data about the usage of public transportation. Since more and more ways of public transportations are introduced almost every year in Shanghai, we can attempt to see if a model can capture such increase in public transportation and see if there is any relation between this and the price of license plates.</p>

</div>
</div>
</div>
</div>
 

